{"componentChunkName":"component---src-templates-page-js","path":"/migrating-from-previous-version","webpackCompilationHash":"2d90f59975f49ae1d049","result":{"data":{"mdx":{"id":"8194cf76-6845-52e5-ae60-e1eb4f335640","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"path\": \"/migrating-from-previous-version\",\n  \"date\": \"2017-07-12T17:12:33.962Z\",\n  \"title\": \"Migration\",\n  \"order\": 2\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"migrating-from-a-previous-version\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#migrating-from-a-previous-version\",\n    \"aria-label\": \"migrating from a previous version permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Migrating from a previous version?\"), mdx(\"p\", null, \"If you have used earlier versions than v3, you were probably familiar with syntaxes like:\"), mdx(Code, {\n    mdxType: \"Code\"\n  }, \"\\n<Placeholder.ImageContent\\n  size={60}\\n  animate=\\\"fade\\\"\\n  lineNumber={4}\\n  lineSpacing={5}\\n  lastLineWidth=\\\"30%\\\"\\n  onReady={this.state.isReady}\\n>\\n  <Text>Placeholder has finished :D</Text>\\n</Placeholder.ImageContent>\\n\"), mdx(\"p\", null, \"In this snippet, there are few caveats and this page aims to sum up \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"the reasons why the API has changed\"), \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#the-animate-prop\"\n  }), \"The animate prop\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#the-firstlinewidth-and-lastlinewidth-props\"\n  }), \"The firstLineWidth and lastLineWidth props\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#the-onready--whenreadyrender-props\"\n  }), \"The onReady / whenReadyRender props\"))), mdx(\"h2\", {\n    \"id\": \"the-animate-prop\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#the-animate-prop\",\n    \"aria-label\": \"the animate prop permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The animate prop\"), mdx(\"p\", null, \"In previous versions, the animate prop was accepting a string. This seemed pretty good to me when I've designed the library at first but it breaks the composability nature of React.\"), mdx(\"p\", null, \"For example, each time I wanted to create a new animation, I had to create a string matching a specific component directly inside the codebase, and I had to release a new version so that people can benefit from it.\"), mdx(\"p\", null, \"Moreover, to allow people to customize animations and to create new ones, I added another prop called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"customAnimation\"), \".\"), mdx(\"p\", null, \"This created a lot of conditional logic that was not necessary.\"), mdx(\"p\", null, \"Instead of relying on different props (and thus having some unecessary conditional logic), it's now possible to inject an animation through the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Animation\"), \" prop of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Placeholder\"), \" component. What's great about this is that you can inject the different built-in animations or simply create your own one for your specific purpose using only one prop.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"By the way, don't hesitate to create a pull request if you think that your new animation can have an impact for the community!\")), mdx(Snippet, {\n    scope: {\n      Placeholder: Placeholder,\n      PlaceholderLine: PlaceholderLine,\n      Fade: Fade\n    },\n    code: \"function App() {\\n  return (\\n    <Placeholder Animation={Fade}>\\n      <PlaceholderLine width={80} />\\n    </Placeholder>\\n  )\\n}\\n \",\n    mdxType: \"Snippet\"\n  }), mdx(\"h2\", {\n    \"id\": \"the-firstlinewidth-and-lastlinewidth-props\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#the-firstlinewidth-and-lastlinewidth-props\",\n    \"aria-label\": \"the firstlinewidth and lastlinewidth props permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The firstLineWidth and lastLineWidth props\"), mdx(\"p\", null, \"These two props aimed to modify the actual width of the first and last lines of a certain paragraphs. But what if I want to have total control of the number and the width of each of the lines?\"), mdx(\"p\", null, \"It wasn't people. We could only modify the first and last width only, and everything else would have been full size. Customizing each line on height, color and border radius was also a pain.\"), mdx(\"p\", null, \"With the new API, it's possible to customize each line independently and to create the better placeholder for your need:\"), mdx(Snippet, {\n    scope: {\n      Placeholder: Placeholder,\n      PlaceholderLine: PlaceholderLine\n    },\n    code: \"function App() {\\n  return (\\n    <Placeholder>\\n      <PlaceholderLine width={80} />\\n      <PlaceholderLine />\\n      <PlaceholderLine\\n        width={30}\\n        style={{ backgroundColor: \\\"red\\\" }}\\n      />\\n    </Placeholder>\\n )\\n}\\n \",\n    mdxType: \"Snippet\"\n  }), mdx(\"h2\", {\n    \"id\": \"the-onready--whenreadyrender-props\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#the-onready--whenreadyrender-props\",\n    \"aria-label\": \"the onready  whenreadyrender props permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The onReady / whenReadyRender props\"), mdx(\"p\", null, \"This was the way to display or hide the placeholder at the beginning and there are two reasons that made me move this prop out:\"), mdx(\"h3\", {\n    \"id\": \"not-that-much-difference\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#not-that-much-difference\",\n    \"aria-label\": \"not that much difference permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Not that much difference\"), mdx(\"p\", null, \"The first one is that it's not really different to write:\"), mdx(Code, {\n    mdxType: \"Code\"\n  }, \"\\nconst isDisplayed = true;\\n\\nfunction App() {\\n  return <Placeholder onReady={isDisplayed} />;\\n}\\n\\n\\n// We even earn some space!\\nfunction App2() {\\n  return isDisplayed && <Placeholder />;\\n}\\n\"), mdx(\"p\", null, \"But it extract at least one computation or one condition checking from the library and it has allowed to be focused on the Placeholder components and animations and not on when to display them.\"), mdx(\"h3\", {\n    \"id\": \"suspense-will-arrive-one-day-on-react-native\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#suspense-will-arrive-one-day-on-react-native\",\n    \"aria-label\": \"suspense will arrive one day on react native permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Suspense will arrive (one day) on React Native\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-api.html#suspense\"\n  }), \"Suspense\"), \" is a \\\"new\\\" feature introduced in React with the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/code-splitting.html\"\n  }), \"lazy\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-api.html#reactmemo\"\n  }), \"memo\"), \" functions some time ago. It will play an important role on making asynchronous operations and displaying loading components.\"), mdx(\"p\", null, \"To be short, the Suspense component can be used this way:\"), mdx(Code, {\n    mdxType: \"Code\"\n  }, \"\\nfunction App() {\\n  return (\\n    <Suspense\\n      fallback={\\n        <Placeholder>\\n          <PlaceholderLine />\\n        </Placeholder>\\n      }\\n    >\\n      <ComponentThatMakeAsynchronousOperation />\\n      {/* During the async computation, the fallback prop will be displayed instead of the children */}\\n    </Suspense>\\n  )\\n}\\n\"), mdx(\"p\", null, \"while this feature is available for the web, it's not shipped in React Native but we can presume that it will arrive soon and the new API allows to play with it.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Migration","date":"2017-07-12T17:12:33.962Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"8194cf76-6845-52e5-ae60-e1eb4f335640"}}}